(function($){$.fn.charcounter=function(options){var that=this;var settings={max:140,counter:$('#counter'),errorClass:'warning'};options=$.extend(settings,options);var calculate=function(obj){var count=($(obj).is('textarea'))?$(obj).val().length:$(obj).text().length;var available=options.max-count;options.counter.text(available);if(available<=0){options.counter.addClass(options.errorClass);}else{options.counter.removeClass(options.errorClass);}};return that.each(function(){$(that).bind('keyup',function(){calculate(this);});$(that).bind('paste',function(){calculate(this);});});};})(jQuery);